<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{% if page.extra.schema_type %}{{ page.extra.schema_type }}{% else %}WebPage{% endif %}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{config.base_url | safe}}/{{current_path | safe}}"
  },
  "headline": "{% if page.title %}{{ page.title }}{% else %}{{ config.title }}{% endif %}",
  {% if page.extra.desc or config.extra.desc %}
  "description": "{% if page.extra.desc %}{{ page.extra.desc }}{% else %}{{ config.extra.desc }}{% endif %}",
  {% endif %}
  {% if page.extra.image or config.extra.default_og_image %}
  "image": "{% if page.extra.image %}{{ get_url(path=page.extra.image) | safe }}{% elif config.extra.default_og_image %}{{ get_url(path=config.extra.default_og_image) | safe }}{% endif %}",
  {% endif %}
  "datePublished": "{% if page.date %}{{ page.date }}{% else %}{{ now() | date(format="%Y-%m-%d") }}{% endif %}",
  "dateModified": "{% if page.updated %}{{ page.updated }}{% elif page.date %}{{ page.date }}{% else %}{{ now() | date(format="%Y-%m-%d") }}{% endif %}",
  "author": {
    "@type": "Person",
    "name": "{{ config.author }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ config.title }}",
    {% if config.extra.logo %}
    "logo": {
      "@type": "ImageObject",
      "url": "{{ get_url(path=config.extra.logo) | safe }}"
    },
    {% endif %}
    "url": "{{ config.base_url | safe }}"
  }
}
</script>