{% macro render_comment(comment, depth) %}
  <div class="discussion-comment" style="margin-left: {{ depth * 20 }}px;">
    <div class="comment-meta">
      <a href="{{ comment.author.url }}" class="comment-author">
        <img src="{{ comment.author.avatarUrl }}"
             alt="{{ comment.author.login }}"
             class="avatar"
             width="24"
             height="24"
             loading="lazy">
        {{ comment.author.login }}
      </a>
      <span class="comment-separator">Â·</span>
      <time datetime="{{ comment.createdAt }}">
        {{ comment.createdAt | date(format="%B %d, %Y") }}
      </time>
    </div>
    <div class="comment-body">
      {{ comment.bodyHTML | safe }}
    </div>

    {% if comment.replies and comment.replies.nodes %}
      {% for reply in comment.replies.nodes %}
        {{ self::render_comment(comment=reply, depth=depth + 1) }}
      {% endfor %}
    {% endif %}
  </div>
{% endmacro %}
